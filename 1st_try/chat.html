<!DOCTYPE html>
<html lang="sv">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chat - Hello World</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            min-height: 100vh;
            color: #1a1a1a;
            position: relative;
            overflow-x: hidden;
        }

        .background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a2a6c 0%, #2a4858 100%);
            z-index: -1;
        }

        .background::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.2);
        }

        .page-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 2rem 20px;
            min-height: 100vh;
            justify-content: center;
        }

        .container {
            text-align: center;
            animation: fadeIn 1.5s ease-out;
            background: rgba(28, 32, 38, 0.85);
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(8px);
            max-width: 800px;
            width: 100%;
            display: flex;
            flex-direction: column;
            height: 80vh;
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: #ffffff;
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
        }

        .chat-container {
            flex-grow: 1;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            overflow-y: auto;
            padding: 1rem;
            margin: 1rem 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }

        .message {
            padding: 0.8rem 1rem;
            border-radius: 10px;
            max-width: 80%;
            animation: slideIn 0.3s ease-out;
        }

        .user-message {
            background: rgba(255, 255, 255, 0.1);
            color: #ffffff;
            align-self: flex-end;
        }

        .bot-message {
            background: rgba(255, 255, 255, 0.15);
            color: #ffffff;
            align-self: flex-start;
        }

        .chat-input {
            display: flex;
            gap: 1rem;
            padding: 1rem;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        #message-input {
            flex-grow: 1;
            padding: 0.8rem;
            border: none;
            border-radius: 8px;
            background: rgba(255, 255, 255, 0.9);
            color: #1a1a1a;
            font-family: inherit;
        }

        #send-button {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 8px;
            background: #4CAF50;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        #send-button:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .nav-menu {
            position: fixed;
            top: 2rem;
            right: 2rem;
            z-index: 100;
        }

        .nav-menu ul {
            list-style: none;
            background: rgba(28, 32, 38, 0.95);
            padding: 1rem;
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(8px);
        }

        .nav-menu li {
            margin: 0.5rem 0;
        }

        .nav-menu a {
            color: #ffffff;
            text-decoration: none;
            font-size: 1.1rem;
            padding: 0.5rem 1rem;
            display: block;
            transition: all 0.3s ease;
            border-radius: 8px;
        }

        .nav-menu a:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(5px);
        }

        .nav-menu a.active {
            background: rgba(255, 255, 255, 0.15);
            font-weight: bold;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(-20px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        @media (max-width: 768px) {
            .nav-menu {
                top: 1rem;
                right: 1rem;
            }
            h1 {
                font-size: 2rem;
            }
            .container {
                padding: 1rem;
                height: 90vh;
            }
            .message {
                max-width: 90%;
            }
        }
    </style>
</head>
<body>
    <nav class="nav-menu">
        <ul>
            <li><a href="index.html">Hem</a></li>
            <li><a href="om-planeten.html">Om Planeten</a></li>
            <li><a href="utforska.html">Utforska</a></li>
            <li><a href="chat.html" class="active">Chat</a></li>
            <li><a href="kontakt.html">Kontakt</a></li>
        </ul>
    </nav>
    <div class="background"></div>
    <div class="page-content">
        <div class="container">
            <h1>Chatta med AI</h1>
            <div class="chat-container" id="chat-container">
                <div class="message bot-message">
                    Hej! Jag är en expert på planeten jorden. Jag kan svara på dina frågor om jordens miljö, klimat, geografi, geologi, atmosfär, hav och mycket mer. Vad vill du veta om vår planet?
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="message-input" placeholder="Skriv ditt meddelande här..." />
                <button id="send-button">Skicka</button>
            </div>
        </div>
    </div>
    <script>
        const messageInput = document.getElementById('message-input');
        const sendButton = document.getElementById('send-button');
        const chatContainer = document.getElementById('chat-container');

        async function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;

            // Lägg till användarens meddelande
            addMessage(message, 'user');
            messageInput.value = '';

            try {
                const response = await fetch('/api/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify({ message: message })
                });

                const data = await response.json();
                if (data.error) {
                    addMessage('Tyvärr kunde jag inte få ett svar just nu. Försök igen senare.', 'bot');
                } else {
                    addMessage(data.response, 'bot');
                }
            } catch (error) {
                console.error('Error:', error);
                addMessage('Tyvärr kunde jag inte få ett svar just nu. Försök igen senare.', 'bot');
            }
        }

        function addMessage(text, sender) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `message ${sender}-message`;
            messageDiv.textContent = text;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        sendButton.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
    </script>
</body>
</html> 